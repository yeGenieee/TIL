# 2023-06-06

### π“ ν•™μµ κ³„ν
- μ λ„¤λ¦­μ wildcard
- μ λ„¤λ¦­μ Bounded wildcard
- λλ‹¤ ν‘ν„μ‹
- Functional Interface

### βοΈ TIL
- μ λ„¤λ¦­μ wildcard
- μ λ„¤λ¦­μ Bounded wildcard
- λλ‹¤ ν‘ν„μ‹
- Functional Interface

## μ λ„¤λ¦­μ wildcard
- λ©”μ†λ“μ λ§¤κ° λ³€μλ΅ λ„μ–΄κ°€λ” μ λ„¤λ¦­μ κ²½μ°, λ©”μ†λ“ μ„ μ–Έ μ‹ μ λ„¤λ¦­ νƒ€μ…μ μ ν•μ„ ν•΄μ†ν•κΈ° μ„ν•΄μ„ νΉμ • νƒ€μ… λ€μ‹  `<?>` μ„ μ‚¬μ©ν•λ‹¤
- ν•΄λ‹Ή νƒ€μ…μ„ μ •ν™•ν λ¨λ¥΄λ―€λ΅ Objectλ΅ λ°›λ”λ‹¤

## Bounded wildcard
- μ•„λ¬΄λ° μ μ•½ μ—†λ” `<?>`μ€ μ–΄λ–¤ νƒ€μ…λ„ μ¬ μ μμ–΄μ„, νƒ€μ…μ μ ν•μ„ κ±Έμ–΄λ‘”λ‹¤

# [15μ£Όμ°¨κ³Όμ ] λλ‹¤μ‹

## λλ‹¤μ‹ (Lambda Expressions)

- ν•¨μμ  ν”„λ΅κ·Έλλ°μ„ μ„ν•΄ μλ°” 8λ¶€ν„° μ§€μ›λλ” μµλ… ν•¨μλ¥Ό μƒμ„±ν•κΈ° μ„ν• μ‹
- λλ‹¤μ‹μ„ ν†µν•΄ μλ°” μ½”λ“κ°€ λ§¤μ° κ°„κ²°ν•΄μ§€κ³  μ»¬λ ‰μ…μ μ”μ†λ¥Ό ν•„ν„°λ§ν•κ±°λ‚ λ§¤ν•‘ν•μ—¬ μ›ν•λ” κ²°κ³Όλ¥Ό μ‰½κ² μ–»μ„ μ μμ
- ν•νƒ
  - λ§¤κ° λ³€μλ¥Ό κ°€μ§„ μ½”λ“ λΈ”λ΅ `(λ§¤κ°λ³€μ) -> { μ‹¤ν–‰ μ½”λ“ }`
  - λ°νƒ€μ„ μ‹ μµλ… κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•¨

### κΈ°λ³Έ λ¬Έλ²•

```java
(νƒ€μ… λ§¤κ°λ³€μ, ... ) -> { μ‹¤ν–‰λ¬Έ; ... }
```

#### (νƒ€μ… λ§¤κ°λ³€μ, ...)

- μ¤λ¥Έμ½ `{}` λΈ”λ΅μ„ μ‹¤ν–‰ν•κΈ° μ„ν•΄ ν•„μ”ν• κ°’μ„ μ κ³µν•λ” μ—­ν• 
- λ§¤κ° λ³€μμ νƒ€μ…μ€ κ°λ°μκ°€ μμ λ΅­κ² μ¤„ μ μμ

#### ->

- λ§¤κ° λ³€μλ¥Ό μ΄μ©ν•΄μ„ `{}` λ¥Ό μ‹¤ν–‰ν•λ‹¤λ” λ»

```java
(int a) -> { System.out.println(a); } // λ§¤κ° λ³€μ aμ κ°’μ„ μ¶λ ¥
```

- λ§¤κ° λ³€μ νƒ€μ…μ€ λ°νƒ€μ„ μ‹μ— λ€μ…λλ” κ°’μ— λ”°λΌ μλ™μΌλ΅ μΈμ‹λ  μ μκΈ° λ•λ¬Έμ— λλ‹¤μ‹μ—μ„λ” λ§¤κ°λ³€μμ νƒ€μ…μ„ μΌλ°μ μΌλ΅ μ–ΈκΈ‰ν•μ§€ μ•μ

```java
(a) -> { System.out.println(a); }
```

- ν•λ‚μ λ§¤κ° λ³€μλ§ μλ‹¤λ©΄, κ΄„νΈ μƒλµ κ°€λ¥
- ν•λ‚μ μ‹¤ν–‰λ¬Έλ§ μλ‹¤λ©΄, μ¤‘κ΄„νΈλ„ μƒλµ κ°€λ¥

```java
a -> System.out.println(a);
```



- λ§μ•½ λ§¤κ°λ³€μκ°€ μ—†μ–΄μ§„λ‹¤λ©΄, λΉ κ΄„νΈλ¥Ό λ°λ“μ‹ μ‘μ„±ν•΄μ•Ό ν•¨

```java
() -> { μ‹¤ν–‰λ¬Έ; ... }
```



- μ¤‘κ΄„νΈ μ‹¤ν–‰ ν›„ κ²°κ³Όκ°’ λ¦¬ν„΄

```java
(x, y) -> { return x + y; }
```

- μ¤‘κ΄„νΈ {}μ— returnλ¬Έλ§ μμ„ κ²½μ°, λλ‹¤μ‹μ—μ„λ” returnλ¬Έμ„ μ‚¬μ©ν•μ§€ μ•κ³  μ•„λμ™€ κ°™μ΄ μ‘μ„±

```java
(x, y) -> x + y
```



## ν•¨μν• μΈν„°νμ΄μ¤

  λλ‹¤μ‹μ ν•νƒλ” λ§¤κ° λ³€μλ¥Ό κ°€μ§„ μ½”λ“ λΈ”λ΅μ΄κΈ° λ•λ¬Έμ— λ§μΉ μλ°”μ λ©”μ†λ“λ¥Ό μ„ μ–Έν•λ” κ²ƒμ²λΌ λ³΄μ—¬μ§„λ‹¤. μλ°”λ” λ©”μ†λ“λ¥Ό λ‹¨λ…μΌλ΅ μ„ μ–Έν•  μ μ—†κ³ , ν•­μƒ ν΄λμ¤μ κµ¬μ„± λ©¤λ²„λ΅ μ„ μ–Έν•κΈ° λ•λ¬Έμ— λλ‹¤μ‹μ€ λ‹¨μν λ©”μ†λ“λ¥Ό μ„ μ–Έν•λ” κ²ƒμ΄ μ•„λ‹λΌ μ΄ λ©”μ†λ“λ¥Ό κ°€μ§€κ³  μλ” κ°μ²΄λ¥Ό μƒμ„±ν•΄ λ‚Έλ‹¤. κ·Έλ¬λ©΄, μ–΄λ–¤ νƒ€μ…μ κ°μ²΄λ¥Ό μƒμ„±ν•λ” κ²ƒμΌκΉ?

```java
μΈν„°νμ΄μ¤ λ³€μ = λλ‹¤μ‹;
```

  λλ‹¤μ‹μ€ μΈν„°νμ΄μ¤ λ³€μμ— λ€μ…λλ‹¤. κ²°κµ­, λλ‹¤μ‹μ€ μΈν„°νμ΄μ¤μ μµλ… κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•λ‹¤λ” λ»μ΄λ‹¤. μΈν„°νμ΄μ¤λ” μ§μ ‘ κ°μ²΄ν™”ν•  μ μ—†κΈ° λ•λ¬Έμ—, κµ¬ν„ ν΄λμ¤κ°€ ν•„μ”ν•λ°, λλ‹¤μ‹μ€ μµλ… κµ¬ν„ ν΄λμ¤λ¥Ό μƒμ„±ν•κ³  κ°μ²΄ν™”ν•λ‹¤. λλ‹¤μ‹μ€ λ€μ…λ  μΈν„°νμ΄μ¤μ μΆ…λ¥μ— λ”°λΌ μ‘μ„± λ°©λ²•μ΄ λ‹¬λΌμ§€κΈ° λ•λ¬Έμ— λλ‹¤μ‹μ΄ λ€μ…λ  μΈν„°νμ΄μ¤λ¥Ό λλ‹¤μ‹μ νƒ€κ² νƒ€μ… (target type)μ΄λΌκ³  ν•λ‹¤.

### ν•¨μμ  μΈν„°νμ΄μ¤ (Functional Interface)

- ν•λ‚μ μ¶”μƒ λ©”μ†λ“κ°€ μ„ μ–Έλ μΈν„°νμ΄μ¤

  λ¨λ“  μΈν„°νμ΄μ¤λ¥Ό λλ‹¤μ‹μ νƒ€κ² νƒ€μ…μΌλ΅ μ‚¬μ©ν•  μλ” μ—†λ‹¤. λλ‹¤μ‹μ΄ ν•λ‚μ λ©”μ†λ“λ¥Ό μ •μν•κΈ° λ•λ¬Έμ—, λ‘ κ° μ΄μƒμ μ¶”μƒ λ©”μ†λ“κ°€ μ„ μ–Έλ μΈν„°νμ΄μ¤λ” λλ‹¤μ‹μ„ μ΄μ©ν•μ—¬ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•  μ μ—†λ‹¤. κ²°κµ­ ν•λ‚μ μ¶”μƒ λ©”μ†λ“κ°€ μ„ μ–Έλ μΈν„°νμ΄μ¤λ§μ΄ λλ‹¤μ‹μ νƒ€κ² νƒ€μ…μ΄ λ  μ μλ‹¤. 

  ν•¨μμ  μΈν„°νμ΄μ¤λ¥Ό μ‘μ„±ν•  λ• λ‘ κ° μ΄μƒμ μ¶”μƒ λ©”μ†λ“κ°€ μ„ μ–Έλμ§€ μ•λ„λ΅ μ»΄νμΌλ¬κ°€ μ²΄ν‚Ήν•΄μ£Όλ” κΈ°λ¥μ΄ μλ”λ°, μΈν„°νμ΄μ¤ μ„ μ–Έ μ‹ `@FunctionalInterface` μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ£Όλ©΄, λ‘ κ° μ΄μƒμ λ©”μ†λ“ μ„ μ–Έ μ‹ μ»΄νμΌ μ¤λ¥λ¥Ό λ°μƒμ‹ν‚¨λ‹¤.

```java
@FunctionalInterface
public interface MyFunctionalInterface {
		public void method();
		public void otherMethod(); // μ»΄νμΌ μ¤λ¥ λ°μƒ
}
```

#### @FunctionalInterface

- μ΄ μ–΄λ…Έν…μ΄μ…μ„ κΌ­ λ¶™μΌ ν•„μ”λ” μ—†μ
- μ–΄λ…Έν…μ΄μ…μ΄ μ—†λ”λΌλ„ ν•λ‚μ μ¶”μƒ λ©”μ†λ“λ§ μλ‹¤λ©΄ λ¨λ‘ ν•¨μμ  μΈν„°νμ΄μ¤κ°€ λλ‹¤



  λλ‹¤μ‹μ€ νƒ€κ² νƒ€μ…μΈ ν•¨μμ  μΈν„°νμ΄μ¤κ°€ κ°€μ§€κ³  μλ” μ¶”μƒ λ©”μ†λ“μ μ„ μ–Έ ν•νƒμ— λ”°λΌμ„ μ‘μ„± λ°©λ²•μ΄ λ‹¬λΌμ§„λ‹¤. μ•„λμ—μ„ λ” μμ„Έν μ‚΄ν΄λ³΄μ.

1. λ§¤κ° λ³€μμ™€ λ¦¬ν„΄κ°’μ΄ μ—†λ” λλ‹¤μ‹
2. λ§¤κ° λ³€μκ°€ μλ” λλ‹¤μ‹
3. λ¦¬ν„΄κ°’μ΄ μλ” λλ‹¤μ‹

### 1. λ§¤κ° λ³€μμ™€ λ¦¬ν„΄κ°’μ΄ μ—†λ” λλ‹¤μ‹

- λ§¤κ° λ³€μμ™€ λ¦¬ν„΄κ°’μ΄ μ—†λ” μ¶”μƒ λ©”μ†λ“λ¥Ό κ°€μ§„ ν•¨μμ  μΈν„°νμ΄μ¤

  ```java
  @FunctionalInterface
  public interface MyFunctionalInterface {
      public void method();
  }
  ```

- μ„μ μΈν„°νμ΄μ¤λ¥Ό νƒ€κ² νƒ€μ…μΌλ΅ κ°–λ” λλ‹¤μ‹μ€ μ•„λμ™€ κ°™μ€ ν•νƒλ΅ μ‘μ„±ν•΄μ•Ό ν•¨

  ```java
  MyFunctionalInterface fi = () -> { ... }
  ```

- λλ‹¤μ‹μ΄ λ€μ…λ μΈν„°νμ΄μ¤μ μ°Έμ΅° λ³€μ `fi` λ” λ‹¤μκ³Ό κ°™μ΄ `method()` λ¥Ό νΈμ¶ν•  μ μμ

  ```java
  fi.method();
  ```

```java
public class MyFinctionalInterfaceExample {
    public static void main(String[] args) {
        MyFunctionalInterface fi;

        fi = () -> {
            String str = "method call1";
            System.out.println(str);
        }
        fi.method();

        fi = () -> { System.out.println("method call2"); };
        fi.method();

        fi = () -> System.out.println("method call3");
        fi.method();
    }
}
```



### 2. λ§¤κ° λ³€μκ°€ μλ” λλ‹¤μ‹

- λ§¤κ° λ³€μκ°€ μκ³  λ¦¬ν„΄κ°’μ΄ μ—†λ” μ¶”μƒ λ©”μ†λ“λ¥Ό κ°€μ§„ ν•¨μμ  μΈν„°νμ΄μ¤

  ```java
  @FunctionalInterface
  public interface MyFunctionalInterface {
  		public void method(int x);
  }
  ```

- μ„μ μΈν„°νμ΄μ¤λ¥Ό νƒ€κ² νƒ€μ…μΌλ΅ κ°–λ” λλ‹¤μ‹μ€ μ•„λμ™€ κ°™μ€ ν•νƒλ΅ μ‘μ„±ν•΄μ•Ό ν•¨

  ```java
  MyFunctionalInterface fi = (x) -> { ... } λλ” x -> { ... }
  ```

- λλ‹¤μ‹μ΄ λ€μ…λ μΈν„°νμ΄μ¤ μ°Έμ΅° λ³€μ `fi` λ” λ‹¤μκ³Ό κ°™μ΄ `method()` λ¥Ό νΈμ¶ν•  μ μμ

  ```java
  fi.method(5);
  ```

```java
public class MyFinctionalInterfaceExample {
    public static void main(String[] args) {
        MyFunctionalInterface fi;

        fi = (x) -> {
            int result = x * 5;
            System.out.println(result);
        }
        fi.method(2);

        fi = (x) -> { System.out.println(x*5); };
        fi.method(2);

        fi = x -> System.out.println(x*5);
        fi.method(2);
    }
}
```



### 3. λ¦¬ν„΄κ°’μ΄ μλ” λλ‹¤μ‹

- λ§¤κ° λ³€μκ°€ μκ³  λ¦¬ν„΄κ°’μ΄ μλ” μ¶”μƒ λ©”μ†λ“λ¥Ό κ°€μ§„ ν•¨μμ  μΈν„°νμ΄μ¤

  ```java
  @FunctionalInterface
  public interface MyFunctionalInterface {
  		public int method(int x, int y);
  }
  ```

- μ„μ μΈν„°νμ΄μ¤λ¥Ό νƒ€κ² νƒ€μ…μΌλ΅ κ°–λ” λλ‹¤μ‹μ€ μ•„λμ™€ κ°™μ€ ν•νƒλ΅ μ‘μ„±ν•΄μ•Ό ν•¨

  ```java
  MyFunctionalInterface fi = (x,y) -> { ...; return κ°’; }
  ```

- λλ‹¤μ‹μ΄ λ€μ…λ μΈν„°νμ΄μ¤ μ°Έμ΅° λ³€μ `fi` λ” λ‹¤μκ³Ό κ°™μ΄ `method()` λ¥Ό νΈμ¶ν•  μ μμ

  ```java
  int result = fi.method(2, 5);
  ```

```java
public class MyFinctionalInterfaceExample {
    public static void main(String[] args) {
        MyFunctionalInterface fi;

        fi = (x, y) -> {
            int result = x + y;
            return result;
        }
        System.out.println(fi.method(2, 5));

        fi = (x, y) -> { return x + y; };
        System.out.println(fi.method(2, 5));
      
      	fi = (x, y) -> x + y;
      	System.out.println(fi.method(2, 5));

        fi = (x,y) -> sum(x + y);
        System.out.println(fi.method(2, 5));
      
      	public static int sum(int x, int y) {
          	return (x + y);
        }
    }
}
```

## Reference

- μ‹ μ©κ¶, γ€μ΄κ²ƒμ΄ μλ°”λ‹¤γ€, ν•λΉ›λ―Έλ””μ–΄(2015), p.414 ~ p.415, p.678 ~ p.716
- https://perfectacle.github.io/2019/06/30/java-8-lambda-capturing/
- http://tutorials.jenkov.com/java/lambda-expressions.html#variable-capture
- https://tourspace.tistory.com/6
