# 2023-07-29
### ğŸ“Œ í•™ìŠµ ëª©í‘œ
- ë¹Œë” íŒ¨í„´ ì˜ˆì œ

### âœï¸ TIL
- ë¹Œë” íŒ¨í„´ ì˜ˆì œ


## Builder Pattern
- ê³„ì¸µì ìœ¼ë¡œ ì„¤ê³„ëœ í´ë˜ìŠ¤ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°ì— ì¢‹ë‹¤

```java
public abstract class Pizza {
    public enum Topping {
        HAM, MUSHROOM, ONION, PEPPER, SAUSAGE
    }
    
    abstract static class Builder<T extends Builder<T>> {
        EnumSet<Topping> toppings = EnumSet.noneOf(Topping.class);
        
        public T addTopping(Topping topping) {
            toppings.add(Objects.requireNonNull(topping));
            return self();
        }
        
        abstract Pizza build();
        
        // í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ì´ ë©”ì„œë“œë¥¼ ì¬ì •ì˜ (ì˜¤ë²„ë¼ì´ë”©) í•˜ì—¬ "this"ë¥¼ ë°˜í™˜í•˜ë„ë¡ í•œë‹¤
        protected abstract T self();
    }
    
    Pizza(Builder<?> builder) {
        toppings = builder.toppings.clone();
    }
    
}
```

- Pizzaì˜ í•˜ìœ„ í´ë˜ìŠ¤ 2ê°œê°€ ìˆë‹¤ê³  í•˜ì, `NyPizza` ì™€ `Calzone` ê°€ ìˆë‹¤
	- `NyPizza` : `size` ê°€ í•„ìˆ˜ ë§¤ê°œ ë³€ìˆ˜
	- `Calzone` : `sauceInside` ê°€ í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜

```java
public class NyPizza extends Pizza {
    public enum Size {
        SMALL, MEDIUM, LARGE
    }
    
    private final Size size;
    
    public static class Builder extends Pizza.Builder<Builder> {
        private final Size size;
        
        public Builder(Size size) {
            this.size = Objects.requireNonNull(size);
        }
        
        @Override
        public NyPizza build() {
            return new NyPizza(this);
        }
        
        @Override
        protected Builder self() {
            return this;
        }
    }
    
    private NyPizza(Builder builder) {
        super(builder);
        size = builder.size;
    }
}
```

```java
public class Calzone extends Pizza {
    private final boolean sauceInside;
    
    public static class Builder extends Pizza.Builder<Builder> {
        private boolean sauceInside = false;
    
	  	  public Builder sauceInside() {
	  	      sauceInside = true;
	  	      return this;
        }
        
        @Override
        public Calzone build() {
            return new Calzone(this);
        }
        
        @Override
        protected Builder self() {
            return this;
        }
    }
    
    private Calzone(Builder builder) {
        super(builder);
        size = builder.sauceInside;
    }
}
```


- ê° í•˜ìœ„ í´ë˜ìŠ¤ì˜ ë¹Œë”ê°€ ì •ì˜í•œ build ë©”ì„œë“œëŠ” êµ¬ì²´ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë°˜í™˜í•˜ë„ë¡ ì„ ì–¸í•œë‹¤
- ì´ë ‡ê²Œ ë˜ë©´, `NyPizza.Builder` ëŠ” `NyPizza` ë¥¼ ë°˜í™˜í•˜ê³ , `Calzone.Builder` ëŠ” `Calzone` ë¥¼ ë°˜í™˜í•œë‹¤
	- í•˜ìœ„ í´ë˜ìŠ¤ ë©”ì„œë“œê°€ ìƒìœ„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œê°€ ì •ì˜í•œ ë°˜í™˜ íƒ€ì…ì´ ì•„ë‹Œ, ê·¸ í•˜ìœ„ íƒ€ì…ì„ ë°˜í™˜í•˜ëŠ” ê¸°ëŠ¥ => `ê³µë³€ ë°˜í™˜ íƒ€ì´í•‘`
	- í´ë¼ì´ì–¸íŠ¸ëŠ” í˜• ë³€í™˜ì— ì‹ ê²½ ì“°ì§€ ì•Šê³  ë¹Œë”ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤



```java
NyPizza pizza = new NyPizza.Builder(SMALL)
						.addTopping(SAUSAGE)
						.addTopping(ONION)
						.build();
Calzone calzone = new Calzone.Builder()
						.addTopping(HAM)
						.sauceInside()
						.build();
```
- ë¹Œë”ë¥¼ ì´ìš©í•˜ë©´, ê°€ë³€ ì¸ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ê°œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ 

## ì¥ì 
- ê²°êµ­ ë¹Œë” íŒ¨í„´ì€ ìœ ì—°í•˜ë‹¤
- ë¹Œë” í•˜ë‚˜ë¡œ ì—¬ëŸ¬ ê°ì²´ë¥¼ ìˆœíšŒí•˜ë©´ì„œ ë§Œë“¤ ìˆ˜ ìˆê³ ,
- ë¹Œë”ì— ë„˜ê¸°ëŠ” ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ë‹¤ë¥¸ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì´ë‹¤

## ì£¼ì˜ì 
- ê°ì²´ë¥¼ ë§Œë“œë ¤ë©´, ë¹Œë”ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤
- ë¹Œë” ìƒì„± ë¹„ìš©ì´ í¬ì§€ëŠ” ì•Šì§€ë§Œ, ì„±ëŠ¥ì— ë¯¼ê°í•œ ìƒí™©ì—ì„œëŠ” ë¬¸ì œê°€ ë  ìˆ˜ë„ ìˆë‹¤
- ì ì¸µì  ìƒì„±ì íŒ¨í„´ë³´ë‹¤ëŠ” ì½”ë“œê°€ ì¥í™©í•´ì„œ ë§¤ê°œë³€ìˆ˜ê°€ 4ê°œ ì´ìƒì´ ë˜ì–´ì•¼ ê°’ì–´ì¹˜ë¥¼ í•œë‹¤
- ê·¸ëŸ¬ë‚˜, APIëŠ” ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì•„ì§€ëŠ” ê²½í–¥ì´ ìˆë‹¤
- ì• ì´ˆì— ë¹Œë”ë¡œ ì‹œì‘í•˜ëŠ” ê²ƒì´ ë‚˜ì€ í¸ì´ ë§ë‹¤


## Reference
- ì´í™í‹°ë¸Œìë°” - ì•„ì´í…œ 2 
